#+TITLE: Gestión de Transacciones Blockcahin
#+DESCRIPTION: Serie que recopila una aprendizaje sobre blockchain
#+AUTHOR: Sergio Benítez
#+DATE:<2021-11-10 Wed> 
#+STARTUP: fold
#+HUGO_BASE_DIR: ~/Development/suabochica-blog/
#+HUGO_SECTION: /post
#+HUGO_WEIGHT: auto
#+HUGO_AUTO_SET_LASTMOD: t

Los Blockchains son sistemas basados en transacciones, por lo tanto el tema de transacciones es uno de los más importantes.

En esta publicación se van a revisar de manera conjunta los conceptos que se mencionaron en los [[fundamentos de blockchain][./2021-10-27-fundamentos-de-blockchain.org]] de llaves, bloques, billeteras, entre otros. El próposito de este árticulo es atacar los siguientes puntos:

- Entender las mecánicas de una transacción simple entre dos entidades, usando llaves privadas, llaves públicas, billeteras y un blockchain público.
- Determinar y generar el tipo de billetera adecuado segun las necesidades de la situación (No determinística, Determinista Secuencial, Determinista Jerárquica).
- Crear y restaurar una billetera bitcoin usando llaves privadas.
- Reconocer la firma de transacciones como parte del ciclo de vida de la transacción y describir tanto su propósito como su proceso.

* Identitdad Blockchain

Así como un número de seguridad social, una cuenta bancaria o una licencia de conducción, la identidad blockchain es como se establece usted mismo en el mundo de la cadena de bloques. Para revisar el cómo se maneja identidad en blockchain se van a revisar dos casos. El primero es describir como una persona que posee dinero tiene acceso para gastarlo garantizando que su transacción no puede ser rastreada. El segundo es que dicha persona tiene la posibilidad de compartir su identidad con los demás para poder hacer transacciones con los otros usuarios en la red. Este escenario específico se soluciona en el blockchain a través de billeteras.

Por ejemplo, una billtera Bitcoin establece la identidad en la cadena de bloques para permitir transacciones dentro de la misma. Una billetera se compone de los siguientes tres elementos:

- Una llave privada: Un número secreto que permite gastar bitcoins desde su billetera.
- Una llave pública: Un clave que se comparte de manera publica pero no se usa para gastar bitcoins.
- Una dirección de billetera: Un identificador único para su billetera.

La dirección de una billetera es un identificador único para su billetera. Esta dirección le permite al propietario de la billetera compartir con los otros usuarios de la red para enviar y recibir Bitcoin. Es por eso que en los detalles de una transacción uno de los items que conforman el bloque son las direcciones de las billeteras de las partes relevantes en la transacción. No obstante, es válido cuestrionarse si al exponer dicha información va a ser posible poder hacer un rastreo sobre quienes hacen parte de la transacción. La respuesta es que no se puedo y esto se debe a como la billetera se crea.

En la creación de una billetera tiene protagonismo la llave privada y la llave pública. Las billeteras pueden tener una o más llaves privadas asociadas y no deben compartirse con nadie. Esta llave secreta se convierte en una llave pública y se puede compartir con cualquier persona con el fin de recibir bitcoins. Una llave pública se genera desde una llave privada a través de un algoritmo de seguridad. Es por eso que toda llave pública se enlaza a una llave privada. Su relación es llamativa ya que se puede compartir una llave pública sin comprometer la seguridad de la llave privada. Por otra parte, una llave privada puede hacer seguimiento sobre una llave pública. Por último, el algoritmo para generar la llave pública hace que no sea posible resolver la llave privada desde la llave pública. La siguiente imagen ilustra la relación entre una llave privada y una llave pública:

#+CAPTION: Private and Public Keys Relationship
[[../../images/blockchain/15-private-and-public-keys.png]]

Con este contexto, es tiempo de ahondar en el concepto de billeteras:

* Billeteras

La identidad en la cadena de bloques se logra con herramientas importantes como billeteras, direcciones y llaves. Además de que tener diferentes alternativas en la selección de las herramientas también es posible implementarlas en diferentes formas. Estas implementaciones se reflejan en diferentes tipos de billeteras.

** Tipos de Billeteras

   - *Billeteras no determinísticas:* También conocidas como billeteras aleatorias son billeteras en donde las llaves privadas se generan desde números aleatorios.
   - *Billeteras determinísticas:* Son billeteras en donde las direcciones, las llaves privada y las llaves públicas se pueden rastrear hasta sus palabras originales
   - *Billeteras jerarquicas determinísticas:* Un tipo avanzado de billetera determinista que contiene claves derivadas en una estructura de árbol.

** Escenarios para billeteras

A continuación se inventan una variedad de escenarios para explorar. Con base en las definiciones anteriores, considere la situación y decida qué tipo de billetera podría ser la más adecuada.

*** Escenario 1

Quiero crear billeteras de papel derivadas de una clave maestra para poder almacenarlas y recuperarlas todas de forma determinista. ¿Qué billetera se usa para lograr esto?

Respuesta: Billetera Secuencial Determinista

*** Escenario 2

Estoy creando un servidor web que vende widgets y quiero generar una dirección de transacción única para cada cliente habilitando un seguimiento de forma independiente. Quiero poder tomar una clave pública maestra y generar una secuencia de claves subpúblicas, cada una asociada con una transacción y colocarla en un servidor web público y asegurarme de que el servidor web no tenga claves privadas.

Respuesta: Billetera Jerárquica Determinista

*** Escenario 3

Se está auditando una cadena de suministro de calzado. Los auditores reciben una clave pública para que puedan ver todas las transacciones del subárbol, pero no pueden desbloquearlo. ¿Qué billetera se usa para lograr esto?

Respuesta: Billetera Jerárquica Determinista

*** Escenario 4

Un sitio web de redes sociales de blockchain utiliza claves privadas para proteger los datos personales de los usuarios. Utiliza billeteras para servicios de back-end que usan claves privadas que no se derivan de una semilla. ¿Qué billetera se usa para lograr esto?

Respuesta: Billetera No Determinista

A lo largo de esta sección, se analizo más de cerca las diferencias entre las billeteras deterministas y no deterministas. Luego, pasó por una variedad de escenarios para ayudar a determinar qué tipo de billetera es la más adecuada para una circunstancia determinada.

Es importante tener presenta que la billetera es el primer paso para describir una pieza increíblemente importante para la seguridad de su identidad de blockchain: ¡las claves privadas!

* TODO Llaves Privadas

* TODO Obtengas su Propia Billetera
  
* TODO Restaurando la Identidad en Blockchain

* TODO Señal de Transacción

* TODO Ciclo de Vida de una Transacción en Blockchain

